2020-04-29 23:29:29 - /entrypoint.py - INFO - *******************************************
2020-04-29 23:29:29 - /entrypoint.py - INFO - starting configuration: 29.04.2020 23:29:29
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - command line arguments: Namespace(bit=True, debug=True, docker=True, extra='.config/gcloud', gid=20, git=True, gopass=True, gpg=True, gpg_agent_port=17874, gpg_ssh_agent_port=17875, home='/Users/swehrheim', ssh=True, uid=502, username='swehrheim')
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - hostdir: /hostdir
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - agent_forwards: {'gpg-agent': {'path': '/Users/swehrheim/.gnupg/S.gpg-agent', 'port': 17874}, 'gpg-agent.ssh': {'path': '/Users/swehrheim/.gnupg/S.gpg-agent.ssh', 'port': 17875}}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating user: swehrheim
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating parent directory: /Users
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating group: {'name': 'swehrheim', 'gid': 20}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - running command: groupadd --gid 20 --non-unique swehrheim
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding user to groups: sudo,tty,docker
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - running command: useradd --create-home --home-dir /Users/swehrheim --gid 20 --uid 502 --groups sudo,tty,docker --shell /bin/bash --non-unique swehrheim
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.takelage.yml', 'destination': '/Users/swehrheim/.takelage.yml'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - copying file: {'source': '/root/.bashrc', 'destination': '/Users/swehrheim/.bashrc'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.bashrc.d', 'destination': '/Users/swehrheim/.bashrc.d'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - created user: swehrheim
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: gopass
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating parent directory: /Users/swehrheim/.config
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.config/gopass', 'destination': '/Users/swehrheim/.config/gopass'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store', 'destination': '/Users/swehrheim/.password-store'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-code-github-takelage', 'destination': '/Users/swehrheim/.password-store-geospin-code-github-takelage'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-code-tuxwerk-mapapp', 'destination': '/Users/swehrheim/.password-store-geospin-code-tuxwerk-mapapp'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-bit-components', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-bit-components'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-openwrt', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-openwrt'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-ovirt', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-ovirt'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-samba', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-samba'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-projects-data-science', 'destination': '/Users/swehrheim/.password-store-geospin-devops-projects-data-science'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-secrets', 'destination': '/Users/swehrheim/.password-store-geospin-devops-secrets'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: gopass
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: gpg
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/.gnupg
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - chmod 700 gnupg directory: /Users/swehrheim/.gnupg
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/pubring.kbx', 'destination': '/Users/swehrheim/.gnupg/pubring.kbx'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/trustdb.gpg', 'destination': '/Users/swehrheim/.gnupg/trustdb.gpg'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/private-keys-v1.d', 'destination': '/Users/swehrheim/.gnupg/private-keys-v1.d'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/openpgp-revocs.d', 'destination': '/Users/swehrheim/.gnupg/openpgp-revocs.d'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/crls.d', 'destination': '/Users/swehrheim/.gnupg/crls.d'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - copying file: {'source': '/srv/.gnupg/dirmngr.conf', 'destination': '/Users/swehrheim/.gnupg/dirmngr.conf'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - copying file: {'source': '/srv/.gnupg/gpg-agent.conf', 'destination': '/Users/swehrheim/.gnupg/gpg-agent.conf'}
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - copying file: {'source': '/srv/.gnupg/gpg.conf', 'destination': '/Users/swehrheim/.gnupg/gpg.conf'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: gpg
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: ssh
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.ssh', 'destination': '/Users/swehrheim/.ssh'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: ssh
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: git
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gitconfig', 'destination': '/Users/swehrheim/.gitconfig'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: git
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: bit
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/Library/Caches/Bit/logs
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/Library/Caches/Bit/config
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/Library/Caches/Bit/config/config.json', 'destination': '/Users/swehrheim/Library/Caches/Bit/config/config.json'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: bit
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: extra
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.config/gcloud', 'destination': '/Users/swehrheim/.config/gcloud'}
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: extra
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - adding config: docker
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/.docker
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - creating docker config file: /Users/swehrheim/.docker/config.json
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - make docker.sock readable and writable for docker group
2020-04-29 23:29:29 - /entrypoint.py - INFO - added config: docker
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - changing ownership: tty
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - running command: tty
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - making tty readable and writeable for user
2020-04-29 23:29:29 - /entrypoint.py - INFO - changed ownership: tty
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - changing ownership: /Users/swehrheim
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - running command: /bin/chown --recursive swehrheim.swehrheim /Users/swehrheim
2020-04-29 23:29:29 - /entrypoint.py - INFO - changed ownership: /Users/swehrheim
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - forwarding agents
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - running command in background: /usr/bin/socat UNIX-LISTEN:/Users/swehrheim/.gnupg/S.gpg-agent,reuseaddr,fork,user=swehrheim,gid=20 TCP:host.docker.internal:17874
2020-04-29 23:29:29 - /entrypoint.py - DEBUG - running command in background: /usr/bin/socat UNIX-LISTEN:/Users/swehrheim/.gnupg/S.gpg-agent.ssh,reuseaddr,fork,user=swehrheim,gid=20 TCP:host.docker.internal:17875
2020-04-29 23:29:29 - /entrypoint.py - INFO - forwarded agents
2020-04-29 23:30:26 - /entrypoint.py - INFO - *******************************************
2020-04-29 23:30:26 - /entrypoint.py - INFO - starting configuration: 29.04.2020 23:30:26
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - command line arguments: Namespace(bit=True, debug=True, docker=True, extra='.config/gcloud', gid=20, git=True, gopass=True, gpg=True, gpg_agent_port=17874, gpg_ssh_agent_port=17875, home='/Users/swehrheim', ssh=True, uid=502, username='swehrheim')
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - hostdir: /hostdir
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - agent_forwards: {'gpg-agent': {'path': '/Users/swehrheim/.gnupg/S.gpg-agent', 'port': 17874}, 'gpg-agent.ssh': {'path': '/Users/swehrheim/.gnupg/S.gpg-agent.ssh', 'port': 17875}}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating user: swehrheim
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating parent directory: /Users
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating group: {'name': 'swehrheim', 'gid': 20}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - running command: groupadd --gid 20 --non-unique swehrheim
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding user to groups: sudo,tty,docker
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - running command: useradd --create-home --home-dir /Users/swehrheim --gid 20 --uid 502 --groups sudo,tty,docker --shell /bin/bash --non-unique swehrheim
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.takelage.yml', 'destination': '/Users/swehrheim/.takelage.yml'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - copying file: {'source': '/root/.bashrc', 'destination': '/Users/swehrheim/.bashrc'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.bashrc.d', 'destination': '/Users/swehrheim/.bashrc.d'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - created user: swehrheim
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: gopass
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating parent directory: /Users/swehrheim/.config
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.config/gopass', 'destination': '/Users/swehrheim/.config/gopass'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store', 'destination': '/Users/swehrheim/.password-store'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-code-github-takelage', 'destination': '/Users/swehrheim/.password-store-geospin-code-github-takelage'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-code-tuxwerk-mapapp', 'destination': '/Users/swehrheim/.password-store-geospin-code-tuxwerk-mapapp'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-bit-components', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-bit-components'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-openwrt', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-openwrt'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-ovirt', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-ovirt'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-ansible-projects-samba', 'destination': '/Users/swehrheim/.password-store-geospin-devops-ansible-projects-samba'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-projects-data-science', 'destination': '/Users/swehrheim/.password-store-geospin-devops-projects-data-science'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.password-store-geospin-devops-secrets', 'destination': '/Users/swehrheim/.password-store-geospin-devops-secrets'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: gopass
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: gpg
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/.gnupg
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - chmod 700 gnupg directory: /Users/swehrheim/.gnupg
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/pubring.kbx', 'destination': '/Users/swehrheim/.gnupg/pubring.kbx'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/trustdb.gpg', 'destination': '/Users/swehrheim/.gnupg/trustdb.gpg'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/private-keys-v1.d', 'destination': '/Users/swehrheim/.gnupg/private-keys-v1.d'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/openpgp-revocs.d', 'destination': '/Users/swehrheim/.gnupg/openpgp-revocs.d'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gnupg/crls.d', 'destination': '/Users/swehrheim/.gnupg/crls.d'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - copying file: {'source': '/srv/.gnupg/dirmngr.conf', 'destination': '/Users/swehrheim/.gnupg/dirmngr.conf'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - copying file: {'source': '/srv/.gnupg/gpg-agent.conf', 'destination': '/Users/swehrheim/.gnupg/gpg-agent.conf'}
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - copying file: {'source': '/srv/.gnupg/gpg.conf', 'destination': '/Users/swehrheim/.gnupg/gpg.conf'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: gpg
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: ssh
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.ssh', 'destination': '/Users/swehrheim/.ssh'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: ssh
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: git
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.gitconfig', 'destination': '/Users/swehrheim/.gitconfig'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: git
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: bit
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/Library/Caches/Bit/logs
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/Library/Caches/Bit/config
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/Library/Caches/Bit/config/config.json', 'destination': '/Users/swehrheim/Library/Caches/Bit/config/config.json'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: bit
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: extra
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating symlink: {'source': '/hostdir/.config/gcloud', 'destination': '/Users/swehrheim/.config/gcloud'}
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: extra
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - adding config: docker
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating homedir child directory: /Users/swehrheim/.docker
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - creating docker config file: /Users/swehrheim/.docker/config.json
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - make docker.sock readable and writable for docker group
2020-04-29 23:30:26 - /entrypoint.py - INFO - added config: docker
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - changing ownership: tty
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - running command: tty
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - making tty readable and writeable for user
2020-04-29 23:30:26 - /entrypoint.py - INFO - changed ownership: tty
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - changing ownership: /Users/swehrheim
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - running command: /bin/chown --recursive swehrheim.swehrheim /Users/swehrheim
2020-04-29 23:30:26 - /entrypoint.py - INFO - changed ownership: /Users/swehrheim
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - forwarding agents
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - running command in background: /usr/bin/socat UNIX-LISTEN:/Users/swehrheim/.gnupg/S.gpg-agent,reuseaddr,fork,user=swehrheim,gid=20 TCP:host.docker.internal:17874
2020-04-29 23:30:26 - /entrypoint.py - DEBUG - running command in background: /usr/bin/socat UNIX-LISTEN:/Users/swehrheim/.gnupg/S.gpg-agent.ssh,reuseaddr,fork,user=swehrheim,gid=20 TCP:host.docker.internal:17875
2020-04-29 23:30:26 - /entrypoint.py - INFO - forwarded agents
